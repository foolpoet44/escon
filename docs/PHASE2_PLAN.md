# Phase 2 구현 계획

## 개요
- **목표**: 고급 시각화 및 데이터 분석 기능 추가
- **예상 기간**: 2-3주
- **버전**: v0.2.0

---

## 1. 네트워크 그래프 (D3.js)

### 1.1 기능 설명
- 스킬 간 관계를 인터랙티브 네트워크 그래프로 시각화
- 노드: 개별 스킬
- 엣지: 스킬 간 연관성
- 도메인별 색상 구분

### 1.2 기술 스택
- **D3.js** v7.x - 데이터 시각화
- **react-force-graph** - React 통합 네트워크 그래프

### 1.3 구현 단계
1. D3.js 및 관련 라이브러리 설치
2. NetworkGraph 컴포넌트 생성
3. 스킬 관계 데이터 구조 정의
4. 인터랙티브 기능 추가 (줌, 드래그, 필터)
5. 도메인별 색상 및 레이아웃 적용

### 1.4 파일 구조
```
app/
├── components/
│   └── NetworkGraph.tsx      # 새로 추가
├── network/
│   └── page.tsx              # 새로 추가
└── lib/
    └── graph-data.ts         # 새로 추가
```

---

## 2. 스킬 트리 뷰

### 2.1 기능 설명
- 계층적 스킬 구조를 트리 형태로 표현
- 확장/축소 가능한 노드
- 도메인 → 카테고리 → 스킬 계층 구조

### 2.2 기술 스택
- **react-d3-tree** - React 트리 시각화
- 또는 Mermaid의 flowchart 확장

### 2.3 구현 단계
1. 계층적 데이터 구조 변환 함수 작성
2. SkillTree 컴포넌트 생성
3. 노드 확장/축소 상태 관리
4. 검색 및 하이라이트 기능

### 2.4 파일 구조
```
app/
├── components/
│   └── SkillTree.tsx         # 새로 추가
├── tree/
│   └── page.tsx              # 새로 추가
└── lib/
    └── tree-data.ts          # 새로 추가
```

---

## 3. 도메인 비교 기능

### 3.1 기능 설명
- 2개 이상의 도메인을 선택하여 비교
- 스킬 수, 유형 분포, 공통 스킬 등 비교
- 비교 결과를 차트로 시각화

### 3.2 UI 구성
- 도메인 선택 드롭다운 (최대 3개)
- 비교 차트:
  - 스킬 수 비교 (Bar Chart)
  - 스킬 유형 분포 (Pie Chart)
  - 공통 스킬 목록 (Table)

### 3.3 구현 단계
1. 도메인 선택 UI 컴포넌트
2. 비교 로직 함수 작성
3. 비교 결과 시각화 컴포넌트
4. 비교 페이지 레이아웃

### 3.4 파일 구조
```
app/
├── components/
│   ├── DomainSelector.tsx    # 새로 추가
│   └── ComparisonChart.tsx   # 새로 추가
├── compare/
│   └── page.tsx              # 새로 추가
└── lib/
    └── comparison.ts         # 새로 추가
```

---

## 4. 데이터 내보내기

### 4.1 기능 설명
- 현재 보고 있는 데이터를 CSV, JSON 형식으로 다운로드
- 필터링된 결과도 내보내기 가능

### 4.2 지원 형식
- **CSV**: Excel에서 열기 가능
- **JSON**: 프로그래밍 활용 가능

### 4.3 구현 단계
1. CSV 변환 함수 작성
2. JSON 변환 함수 작성
3. 다운로드 트리거 함수
4. Export 버튼 컴포넌트

### 4.4 파일 구조
```
app/
├── components/
│   └── ExportButton.tsx      # 새로 추가
└── lib/
    └── export.ts             # 새로 추가
```

---

## 5. 추가 개선사항

### 5.1 성능 최적화
- 대용량 데이터 가상화 (react-window)
- 메모이제이션 (useMemo, useCallback)
- 이미지 최적화

### 5.2 UX 개선
- 로딩 스피너 추가
- 에러 바운더리
- 토스트 알림

### 5.3 접근성
- ARIA 레이블 추가
- 키보드 네비게이션 지원
- 색상 대비 개선

---

## 6. 구현 우선순위

### Week 1
- [ ] D3.js 설치 및 환경 설정
- [ ] 네트워크 그래프 기본 구현
- [ ] 데이터 내보내기 기능

### Week 2
- [ ] 스킬 트리 뷰 구현
- [ ] 도메인 비교 기능 기본 구현

### Week 3
- [ ] 인터랙티브 기능 추가
- [ ] 성능 최적화
- [ ] 테스트 및 버그 수정

---

## 7. 필요한 패키지

```json
{
  "dependencies": {
    "d3": "^7.8.5",
    "react-force-graph-2d": "^1.25.4",
    "react-d3-tree": "^3.6.2",
    "papaparse": "^5.4.1"
  },
  "devDependencies": {
    "@types/d3": "^7.4.3",
    "@types/papaparse": "^5.3.14"
  }
}
```

---

## 8. 성공 기준

### Phase 2 완료 체크리스트
- [ ] 네트워크 그래프 페이지 동작
- [ ] 스킬 트리 페이지 동작
- [ ] 도메인 비교 기능 동작
- [ ] CSV/JSON 내보내기 동작
- [ ] 모든 기능 반응형 지원
- [ ] 성능 최적화 완료

---

*작성일: 2026-02-07*
*작성자: Phase 2 개발팀*
