# 스킬 탐색기 (Skill Explorer) 기획서

**문서 버전**: v1.0
**작성일**: 2026-02-28
**대상 브랜치**: `claude/skill-explorer-implementation-dqWdP`
**담당 페이지**: `/skills`

---

## 1. 개요

### 1.1 배경

`/skills` 페이지는 Phase 2 계획에 포함되어 있었으나 Phase 2 구현 과정에서 "개발 중" placeholder 상태로 유지되어 왔다.
현재 리포에는 `/search`, `/network`, `/tree`, `/compare` 등 다양한 스킬 관련 뷰가 존재하지만, **스킬을 직접 탐색(browse)하는 중심 허브 페이지**가 부재한 상태다.

### 1.2 목적

**스킬 탐색기**는 ESCON 플랫폼의 핵심 스킬 디렉토리로, 사용자가:
- 전체 스킬 카탈로그를 체계적으로 **브라우징**할 수 있고
- 도메인·타입·키워드 기반으로 **즉각 필터링**할 수 있으며
- 개별 스킬의 **상세 정보**를 페이지 이동 없이 확인하고
- 필터링된 결과를 **내보내기(Export)**할 수 있는

통합 스킬 탐색 경험을 제공한다.

### 1.3 포지셔닝 (기존 기능과의 차별화)

| 페이지 | 핵심 UX 패턴 | 사용 목적 |
|--------|------------|---------|
| `/search` | **검색(Query)-first** | 키워드를 알 때 빠르게 찾기 |
| `/network` | **관계 시각화** | 스킬 간 연결 구조 파악 |
| `/tree` | **계층 구조 탐색** | 조직→Enabler→스킬 위계 확인 |
| `/compare` | **도메인 비교** | 도메인 간 유사도·차이 분석 |
| **`/skills` (신규)** | **브라우즈(Browse)-first** | 전체 스킬 카탈로그 탐색·발견 |

검색 페이지는 빈 쿼리 시 결과를 보여주지 않는다. 스킬 탐색기는 **초기 상태에서도 전체 스킬을 도메인별로 정렬하여 즉시 표시**한다.

---

## 2. 사용자 시나리오

### 시나리오 A: HR 전문가 — 전체 스킬 파악
> "우리 조직에 어떤 스킬들이 있는지 전체적으로 파악하고 싶다."

1. `/skills` 접속 → 전체 1,640개 스킬이 도메인별로 즉시 노출
2. 도메인 칩 클릭(예: Manufacturing) → 해당 도메인 스킬 561개로 필터
3. 관심 스킬 클릭 → 우측 상세 패널에서 ESCO 설명 확인
4. 필터된 결과 CSV 다운로드

### 시나리오 B: 교육 설계자 — 지식 vs. 역량 분류
> "Knowledge 타입 스킬만 보고 싶다. 학습 커리큘럼 설계에 활용하려 한다."

1. `/skills` 접속 → 유형 필터에서 'Knowledge' 선택
2. 상단 통계 바에서 Knowledge 스킬 수 즉시 확인
3. 키워드 검색으로 세부 좁히기
4. JSON 내보내기로 커리큘럼 시스템에 연동

### 시나리오 C: 연구자 — 크로스 도메인 스킬 발견
> "AI/ML과 Safety 도메인이 겹치는 스킬이 뭔지 보고 싶다."

1. `/skills` 접속 → 도메인 필터에서 'AI & ML' + 'Safety' 복수 선택
2. 양쪽 도메인의 스킬이 함께 노출
3. 상세 패널에서 ESCO URI 클릭 → 원본 ESCO 페이지 확인
4. 관련 시각화로 이동: "네트워크에서 보기" → `/network`

---

## 3. 기능 명세

### 3.1 핵심 기능 (P0 — 필수)

#### F1. 전체 스킬 브라우징
- 페이지 진입 시 전체 스킬 즉시 표시 (검색어 없이도 동작)
- 기본 정렬: 도메인별 그룹핑 → 각 그룹 내 알파벳 순
- 도메인별 섹션 헤더 (도메인명, 색상 인디케이터, 스킬 수 뱃지)

#### F2. 실시간 검색 + 필터링
- **키워드 검색**: 스킬명 + 설명 전문 검색, 디바운스 300ms
- **도메인 필터**: 10개 도메인 복수 선택 가능
- **스킬 유형 필터**: Knowledge / Skill·Competence
- **Smart Factory Focus 토글**: 스마트 팩토리 관련성 점수 부스팅

#### F3. 스킬 상세 패널 (슬라이드인)
- 카드 클릭 시 우측에서 슬라이드 인 (페이지 이동 없음)
- 표시 정보:
  - 스킬명 (KO/EN)
  - 스킬 유형 뱃지
  - 도메인 태그
  - 전체 설명 (truncate 없이)
  - ESCO URI (외부 링크)
  - 같은 도메인의 관련 스킬 목록 (최대 5개)
  - 크로스 링크: "네트워크에서 보기", "트리에서 보기"

#### F4. 뷰 모드 전환
- **카드 뷰 (기본)**: 3-4열 그리드, 도메인 색상 좌측 바, 설명 2줄 미리보기
- **리스트 뷰**: 1열, 압축된 행, 대량 스캔에 적합
- **테이블 뷰**: 스킬명/유형/도메인 컬럼, 컬럼 헤더 클릭 정렬

#### F5. 데이터 내보내기
- 현재 필터 상태의 스킬 목록 내보내기
- CSV (Excel 호환), JSON 형식
- 내보내기 파일명: `skills_{domain}_{date}.csv`

### 3.2 부가 기능 (P1 — 권장)

#### F6. 상단 통계 바 (Stats Bar)
- 현재 표시 스킬 수 / 전체 스킬 수
- Knowledge : Competence 비율 게이지
- 활성 필터 수 뱃지
- 필터 전체 초기화 버튼

#### F7. 도메인 Quick-Filter 칩
- 상단에 도메인별 칩(pill) 배치
- 각 칩: 도메인 아이콘 + 이름 + 스킬 수
- 클릭 시 해당 도메인만 필터 (사이드바 필터와 연동)
- 활성 도메인 강조 표시

#### F8. 정렬 옵션
- 기본: 도메인 그룹
- 알파벳 오름차순 / 내림차순
- 유형별 (Knowledge 우선 / Competence 우선)
- Smart Factory 관련성 (점수 기반)

#### F9. URL 상태 동기화
- 필터 상태를 URL 쿼리스트링에 반영 (?domain=manufacturing&type=knowledge)
- 공유 가능한 링크, 뒤로가기 지원

### 3.3 미래 기능 (P2 — 이후 구현)

- 북마크/즐겨찾기 (로컬스토리지 기반)
- 스킬 비교 (2~3개 선택 → 나란히 비교)
- 최근 본 스킬 히스토리

---

## 4. UX/UI 설계

### 4.1 레이아웃 구조

```
┌─────────────────────────────────────────────────────────────────┐
│  [헤더] 스킬 탐색기  |  통계 바: 1,640 스킬  K:C = 42:58  [필터초기화]│
├─────────────────────────────────────────────────────────────────┤
│  [도메인 Quick-Filter 칩 행] 🤖 Robotics(72) 🦾 Manipulation(81)... │
├─────────────────────────────────────────────────────────────────┤
│                 [키워드 검색창 + 뷰 모드 토글 + 정렬 + 내보내기]          │
├──────────────┬──────────────────────────────┬───────────────────┤
│              │                              │                   │
│  [사이드바]  │     [스킬 목록 영역]          │  [상세 패널]      │
│              │                              │  (선택 시 노출)   │
│  도메인 필터  │  [도메인 섹션 헤더]          │                   │
│  (체크박스)  │  ┌──────┐ ┌──────┐ ┌──────┐ │  스킬명           │
│              │  │카드  │ │카드  │ │카드  │ │  유형 뱃지        │
│  스킬 유형   │  └──────┘ └──────┘ └──────┘ │  도메인 태그      │
│  (체크박스)  │  ...                         │  전체 설명        │
│              │  [도메인 섹션 헤더]          │  ESCO 링크        │
│  SF Focus    │  ┌──────┐ ┌──────┐          │  관련 스킬        │
│  (토글)      │  │카드  │ │카드  │          │  크로스 링크      │
│              │                              │                   │
│  280px       │  flex-1                      │  360px            │
└──────────────┴──────────────────────────────┴───────────────────┘
```

모바일(<768px): 사이드바는 하단 필터 시트, 상세 패널은 전체 화면 모달로 전환.

### 4.2 스킬 카드 디자인 (카드 뷰)

```
┌──────────────────────────────────────┐
│ ██  스킬명 (라벨)          [Knowledge] │  ← 좌측 색상 바 (도메인 색)
│     설명 미리보기 2줄 (truncate)...    │
│     [Robotics] [Manufacturing]        │  ← 도메인 태그
└──────────────────────────────────────┘
```

- 좌측 4px 색상 바: 도메인 고유 색상
- 호버 시: 카드 elevation 증가, 상세 패널 열기 힌트 표시

### 4.3 색상 및 타이포그래피

기존 시스템 CSS 변수 완전 활용:
- `var(--bg-primary)`, `var(--bg-card)`, `var(--border-color)`
- `var(--text-primary)`, `var(--text-secondary)`, `var(--text-muted)`
- `var(--color-primary)`, `var(--color-secondary)`
- 도메인 색상: `DOMAIN_COLORS` 상수 그대로 사용

### 4.4 인터랙션 패턴

| 동작 | 결과 |
|------|------|
| 도메인 칩 클릭 | 해당 도메인 필터 토글 |
| 스킬 카드 클릭 | 우측 상세 패널 슬라이드 인 |
| 상세 패널 X 클릭 | 패널 닫기 |
| 키보드 Esc | 상세 패널 닫기 |
| 뷰 모드 버튼 | 카드/리스트/테이블 전환 |
| 정렬 드롭다운 | 즉시 재정렬 |

---

## 5. 기술 아키텍처

### 5.1 데이터 흐름

```
[초기 로드]
  GET /api/search
    └→ 전체 스킬 목록 + facets
    └→ 클라이언트 상태에 캐시

[필터/검색 적용]
  POST /api/search { query, filters, limit: 50 }
    └→ 결과 목록 업데이트
    └→ 페이지네이션 (더 보기 버튼)
```

### 5.2 컴포넌트 구조

```
app/skills/page.tsx (메인 페이지)
  ├─ SkillExplorerHeader (통계 바)
  ├─ DomainQuickFilters (도메인 칩 행)
  ├─ SkillExplorerControls (검색 + 뷰 모드 + 정렬 + 내보내기)
  ├─ SkillExplorerSidebar (도메인/유형 필터 사이드바)
  ├─ SkillExplorerList (스킬 목록)
  │   ├─ SkillExplorerCard (카드 뷰)
  │   ├─ SkillExplorerRow (리스트 뷰)
  │   └─ SkillExplorerTable (테이블 뷰)
  └─ SkillDetailPanel (상세 패널, 슬라이드 인)
```

모든 하위 컴포넌트는 `page.tsx` 내 인라인 구현 (단일 파일 접근)으로 빠르게 구현.
재사용이 필요한 경우 추후 분리.

### 5.3 상태 관리

```typescript
// 핵심 상태
const [allSkills, setAllSkills] = useState<FlatSkill[]>([]);  // 전체 캐시
const [displaySkills, setDisplaySkills] = useState<FlatSkill[]>([]);  // 표시 목록
const [selectedSkill, setSelectedSkill] = useState<FlatSkill | null>(null);  // 상세 패널
const [filters, setFilters] = useState<ExplorerFilters>({
  query: '',
  domains: [],
  types: [],
  smartFactoryFocus: false,
  sortBy: 'domain',
});
const [viewMode, setViewMode] = useState<'card' | 'list' | 'table'>('card');
const [loading, setLoading] = useState(true);
const [facets, setFacets] = useState<Facets | null>(null);
```

### 5.4 성능 전략

| 항목 | 전략 |
|------|------|
| 초기 로드 | 전체 스킬 1,640개 한 번 로드 후 클라이언트 캐시 |
| 필터링 | 쿼리 없을 시 클라이언트 사이드 필터 (API 불필요) |
| 검색 | 300ms 디바운스 후 `/api/search` POST |
| 렌더링 | 페이지당 50개 표시 + "더 보기" 버튼 (무한스크롤 X) |
| 애니메이션 | CSS transition만 사용 (라이브러리 의존 없음) |

### 5.5 재사용 컴포넌트

기존 컴포넌트를 그대로 활용:
- `ExportButton` — 내보내기 (기존)
- `LoadingSpinner` — 로딩 상태 (기존)
- `ErrorState` — 에러 처리 (기존)

---

## 6. 구현 계획

### Phase A: 핵심 브라우징 경험 (P0)

**파일**: `app/skills/page.tsx`

1. 전체 스킬 로드 (`GET /api/search`)
2. 도메인 Quick-Filter 칩 구현
3. 카드 뷰 기본 구현 (도메인 그룹핑)
4. 키워드 검색 + 도메인/유형 필터 사이드바
5. 스킬 상세 패널 (슬라이드 인)
6. 내보내기 버튼 통합

### Phase B: 뷰 모드 및 정렬 (P1)

1. 리스트 뷰 구현
2. 테이블 뷰 구현 (컬럼 정렬)
3. 정렬 드롭다운 (알파벳, 유형, SF 관련성)
4. 상단 Stats Bar (통계 요약)
5. Smart Factory Focus 토글

### Phase C: 연계 기능 (P1)

1. 관련 스킬 추천 (같은 도메인)
2. 크로스 링크 ("네트워크에서 보기", "트리에서 보기")
3. 모바일 반응형 (필터 시트, 모달)

---

## 7. 성공 기준

### 7.1 기능 완료 체크리스트

- [ ] 페이지 진입 시 전체 스킬 즉시 표시 (≤ 2초)
- [ ] 도메인 Quick-Filter 칩 동작
- [ ] 키워드 실시간 검색 동작 (300ms 디바운스)
- [ ] 도메인 복수 필터링 동작
- [ ] 스킬 유형 필터링 동작
- [ ] 스킬 상세 패널 슬라이드 인/아웃
- [ ] 카드 / 리스트 / 테이블 뷰 모드 전환
- [ ] 정렬 옵션 (최소 알파벳 + 도메인 그룹)
- [ ] CSV / JSON 내보내기
- [ ] 모바일 반응형 레이아웃

### 7.2 UX 지표

| 지표 | 목표 |
|------|------|
| 초기 로딩 시간 | < 2초 |
| 필터 반응 시간 | < 100ms (클라이언트 필터) |
| 상세 패널 애니메이션 | 200ms transition |

### 7.3 기존 시스템과의 일관성

- 기존 CSS 변수 체계 준수
- 기존 타입(`Skill`, `DomainKey`, `SkillType`) 재사용
- 네비게이션 링크 유지 (헤더에서 `/skills` 접근 가능)

---

## 8. 참고 링크

- **현재 placeholder**: `app/skills/page.tsx`
- **검색 API**: `app/api/search/route.ts`
- **타입 정의**: `app/lib/types.ts`
- **도메인 상수**: `app/lib/constants.ts`
- **기존 내보내기 컴포넌트**: `app/components/ExportButton.tsx`
- **관련 페이지**: `/search`, `/network`, `/tree`, `/compare`

---

*작성: Claude Code (Skill Explorer Implementation, 2026-02-28)*
